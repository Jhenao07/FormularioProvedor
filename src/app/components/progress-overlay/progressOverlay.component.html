@if (open) {
  <div
    class="po-backdrop"
    [style.--po-backdrop-opacity]="backdropOpacity"
    [style.--po-blur]="blurPx + 'px'"
  ></div>

  <div class="po-wrap" role="dialog" aria-modal="true">
    <div
      class="po-card"
      [class.po-elev]="elevation"
      [style.width]="width"
      [style.--po-accent]="accent"
      [style.--po-track-opacity]="trackOpacity"
      [style.--po-radius]="radius + 'px'"
      [style.--po-bar-h]="barHeight + 'px'"
    >
      <div class="po-header" style="display: flex; justify-content: space-between; align-items: flex-start;">
        <div>
          <div class="po-title">{{ title }}</div>
          @if (subtitle) {
            <div class="po-subtitle">{{ subtitle }}</div>
          }
        </div>
        @if (closable) {
          <button
            type="button"
            aria-label="Cerrar"
            class="po-close-btn"
            style="background: none; border: none; font-size: 1.5em; cursor: pointer; margin-left: 12px;"
            (click)="onClose()"
          >&times;</button>
        }
      </div>

      <div class="po-progress">
        <div class="po-track">
          <div
            class="po-bar"
            [class.po-bar--ind]="indeterminate"
            [style.width.%]="indeterminate ? 40 : percent"
          ></div>
        </div>

        <div class="po-meta">
          @if (showNumbers) {
            <div class="po-count">{{ current }} / {{ total }}</div>
            <div class="po-percent">{{ percent }}%</div>
          } @else {
            <div class="po-count">Procesando…</div>
          }
        </div>
      </div>

      <div class="po-hint">
        Por favor, No cierres está ventana y espera mientras se completa el
        proceso.
      </div>
    </div>
  </div>
}
